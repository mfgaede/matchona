---
# basic layout for compound object items
# uses _includes/item/child/ includes to add multiple objects to the item page in a gallery
# each object is represented in a modal
layout: item/item-page-base
gallery: true
custom-foot: js/modal-hash-js.html
---
{% comment %} Find children that have this item as a parent (supports multiple parent IDs separated by semicolons) {% endcomment %}
{% assign all_items = site.data["demo-metadata"] %}
{% assign children = "" | split: "" %}
{% for item in all_items %}
  {% if item.parentid %}
    {% assign parent_ids = item.parentid | split: ";" %}
    {% for parent_id in parent_ids %}
      {% assign trimmed_parent = parent_id | strip %}
      {% if trimmed_parent == page.objectid %}
        {% assign children = children | push: item %}
        {% break %}
      {% endif %}
    {% endfor %}
  {% endif %}
{% endfor %}

<div class="mb-4 ">
    
    {% include item/child/compound-item-modal-gallery.html %}

    <div class="my-2">
        {% include item/child/compound-item-download-buttons.html %}
    </div>
</div>
